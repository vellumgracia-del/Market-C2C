<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SegariHari - Konsep E-Commerce</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Neutrals with Green (bg-amber-50, text-gray-800, text-green-700, accent-amber-500) -->
    <!-- Application Structure Plan: Menggunakan struktur SPA (Single Page Application) berbasis tab/navigasi. Pengguna menavigasi antar 'halaman' (Beranda, Fitur, Data, Tentang) menggunakan JS untuk menukar konten yang terlihat. Struktur ini dipilih untuk menyajikan konsep e-commerce 'SegariHari' secara bersih dan terfokus. 'Beranda' berfungsi sebagai landing page dan kini menyertakan fitur Tanya Pakar (Gemini Grounding). 'Fitur' menjelaskan USP (Unique Selling Propositions) secara interaktif, menambahkan fitur Resep Cerdas (Gemini Structured Output), 'Data' menyajikan 'bukti' (mock data) nilai proposisi via chart, dan 'Tentang' membangun kepercayaan. Ini lebih baik daripada satu halaman panjang (long-scroll) karena memisahkan alur informasi dengan jelas. -->
    <!-- Visualization & Content Choices: 1. Konsep Fitur -> Goal: Mengatur -> Method: Tab Interaktif (HTML/JS) -> Interaction: Klik untuk ganti konten -> Justification: Menyajikan 3 fitur inti (Smart List, Langganan, Resep) tanpa membanjiri pengguna. 2. Data Langganan Populer -> Goal: Menginformasikan -> Method: Donut Chart (Chart.js/Canvas) -> Interaction: Hover untuk tooltip -> Justification: Visualisasi standar untuk proporsi/pangsa pasar. 3. Data Proyeksi Pertumbuhan -> Goal: Menampilkan Perubahan -> Method: Line Chart (Chart.js/Canvas) -> Interaction: Hover untuk tooltip -> Justification: Visualisasi standar for data time-series. 4. Resep Cerdas -> Goal: Mendukung keputusan/kreativitas -> Method: Gemini API (Structured JSON) -> Interaction: Input bahan, klik tombol -> Justification: Menghasilkan resep baru secara instan, meningkatkan engagement. 5. Tanya Pakar -> Goal: Menyediakan informasi kontekstual terkini -> Method: Gemini API (Grounding/Search) -> Interaction: Input pertanyaan, klik tombol -> Justification: Menambah nilai aplikasi sebagai sumber informasi terpercaya dan real-time. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link {
            transition: all 0.3s ease;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active {
            border-bottom-color: #15803d; /* green-700 */
            color: #15803d; /* green-700 */
            font-weight: 600;
        }
        .page-content {
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #16a34a; /* green-600 */
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .loading-animation {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #16a34a;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-800">

    <div class="min-h-screen flex flex-col">
        
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <div class="text-3xl font-bold text-green-700">
                        SegariHari
                    </div>
                    <nav class="hidden md:flex space-x-6">
                        <button class="nav-link py-2 px-3 text-gray-600 hover:text-green-700 active" data-page="page-beranda">Beranda</button>
                        <button class="nav-link py-2 px-3 text-gray-600 hover:text-green-700" data-page="page-fitur">Fitur Unggulan</button>
                        <button class="nav-link py-2 px-3 text-gray-600 hover:text-green-700" data-page="page-data">Dasbor Data</button>
                        <button class="nav-link py-2 px-3 text-gray-600 hover:text-green-700" data-page="page-tentang">Tentang Kami</button>
                    </nav>
                    <button class="bg-green-600 text-white px-5 py-2 rounded-full hover:bg-green-700 transition duration-300 shadow-sm hidden md:block">
                        Mulai Belanja
                    </button>
                    <button id="mobile-menu-button" class="md:hidden text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden bg-white shadow-lg">
                <nav class="flex flex-col p-4 space-y-2">
                    <button class="nav-link py-2 px-3 text-gray-600 text-left active" data-page="page-beranda">Beranda</button>
                    <button class="nav-link py-2 px-3 text-gray-600 text-left" data-page="page-fitur">Fitur Unggulan</button>
                    <button class="nav-link py-2 px-3 text-gray-600 text-left" data-page="page-data">Dasbor Data</button>
                    <button class="nav-link py-2 px-3 text-gray-600 text-left" data-page="page-tentang">Tentang Kami</button>
                    <button class="bg-green-600 text-white px-5 py-2 rounded-full hover:bg-green-700 transition duration-300 shadow-sm w-full mt-2">
                        Mulai Belanja
                    </button>
                </nav>
            </div>
        </header>

        <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow">
            
            <section id="page-beranda" class="page-content">
                
                <div class="bg-white rounded-2xl shadow-xl p-8 md:p-12 text-center overflow-hidden relative">
                    <div class="absolute -top-16 -left-16 w-48 h-48 bg-green-100 rounded-full opacity-50"></div>
                    <div class="absolute -bottom-20 -right-10 w-64 h-64 bg-amber-100 rounded-full opacity-50"></div>
                    
                    <div class="relative z-10">
                        <h1 class="text-4xl md:text-5xl font-bold text-green-800 mb-4">Kesegaran Harian, Langsung ke Rumah Anda</h1>
                        <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">Platform e-commerce "SegariHari" dirancang untuk merevolusi cara Anda berbelanja kebutuhan sehari-hari. Cepat, cerdas, dan selalu segar.</p>
                        <div class="max-w-xl mx-auto">
                            <div class="relative">
                                <input type="text" placeholder="Cari sayur, buah, atau daging segar..." class="w-full py-4 px-6 pr-32 rounded-full bg-gray-100 border-2 border-transparent focus:outline-none focus:border-green-300 focus:bg-white transition">
                                <button class="absolute right-2 top-1/2 -translate-y-1/2 bg-green-600 text-white px-6 py-2.5 rounded-full hover:bg-green-700 transition duration-300 shadow-sm">
                                    Cari
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW: Tanya Pakar Section -->
                <section class="mt-12 bg-white p-8 rounded-2xl shadow-xl">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                        <span class="text-4xl mr-3">‚ú®</span> Tanya Pakar SegariHari
                    </h2>
                    <p class="text-gray-600 mb-4 max-w-3xl">Dapatkan jawaban instan dan terkini dari Gemini mengenai nutrisi, tren harga, atau saran memasak. Kami menggunakan Google Search untuk memastikan informasi yang akurat.</p>
                    
                    <div class="flex flex-col md:flex-row gap-4 mb-4">
                        <input id="pakar-query" type="text" placeholder="Contoh: Berapa harga rata-rata telur ayam hari ini?" class="flex-grow py-3 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500">
                        <button id="pakar-button" class="bg-amber-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-amber-600 transition duration-300 flex items-center justify-center">
                            <span id="pakar-spinner" class="loading-animation mr-2 hidden"></span>
                            Tanyakan Sekarang
                        </button>
                    </div>

                    <div id="pakar-response-container" class="mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                        <h4 class="font-bold text-gray-800 mb-2">Jawaban Pakar:</h4>
                        <div id="pakar-response-text" class="text-gray-700"></div>
                        <div id="pakar-sources" class="mt-3 text-sm text-gray-500"></div>
                    </div>
                </section>
                <!-- END NEW: Tanya Pakar Section -->


                <section class="mt-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Promo Kilat Hari Ini ‚ö°</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                            <img src="https://placehold.co/400x300/A0E9A0/333?text=Brokoli+Segar" alt="Brokoli" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <span class="inline-block bg-red-200 text-red-800 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Diskon 30%</span>
                                <h3 class="text-xl font-semibold my-2">Brokoli Organik</h3>
                                <p class="text-gray-600 mb-3">500 gr / ikat</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xl font-bold text-green-700">Rp 14.000</span>
                                    <span class="text-gray-500 line-through">Rp 20.000</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                            <img src="https://placehold.co/400x300/FAD0C4/333?text=Daging+Sapi" alt="Daging Sapi" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <span class="inline-block bg-red-200 text-red-800 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Diskon 20%</span>
                                <h3 class="text-xl font-semibold my-2">Daging Sapi Has Dalam</h3>
                                <p class="text-gray-600 mb-3">250 gr / pack</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xl font-bold text-green-700">Rp 48.000</span>
                                    <span class="text-gray-500 line-through">Rp 60.000</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                            <img src="https://placehold.co/400x300/FFF8B8/333?text=Telur+Ayam" alt="Telur Ayam" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <span class="inline-block bg-red-200 text-red-800 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Beli 1 Gratis 1</span>
                                <h3 class="text-xl font-semibold my-2">Telur Ayam Omega-3</h3>
                                <p class="text-gray-600 mb-3">10 butir / pack</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xl font-bold text-green-700">Rp 30.000</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                            <img src="https://placehold.co/400x300/FFDDC1/333?text=Jeruk+Sunkist" alt="Jeruk Sunkist" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <span class="inline-block bg-red-200 text-red-800 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Diskon 40%</span>
                                <h3 class="text-xl font-semibold my-2">Jeruk Sunkist Navel</h3>
                                <p class="text-gray-600 mb-3">1 kg</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xl font-bold text-green-700">Rp 24.000</span>
                                    <span class="text-gray-500 line-through">Rp 40.000</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>

                <section class="mt-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Jelajahi Kategori</h2>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                        <div class="bg-gradient-to-br from-green-100 to-green-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">ü•¶</div>
                            <span class="font-semibold text-green-900">Sayuran</span>
                        </div>
                        <div class="bg-gradient-to-br from-red-100 to-red-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">üçé</div>
                            <span class="font-semibold text-red-900">Buah-buahan</span>
                        </div>
                        <div class="bg-gradient-to-br from-orange-100 to-orange-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">ü•©</div>
                            <span class="font-semibold text-orange-900">Daging & Unggas</span>
                        </div>
                         <div class="bg-gradient-to-br from-cyan-100 to-cyan-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">üêü</div>
                            <span class="font-semibold text-cyan-900">Ikan & Seafood</span>
                        </div>
                        <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">ü•õ</div>
                            <span class="font-semibold text-yellow-900">Susu & Telur</span>
                        </div>
                        <div class="bg-gradient-to-br from-gray-100 to-gray-200 p-6 rounded-lg text-center shadow-sm hover:shadow-lg transition duration-300">
                            <div class="text-4xl mb-2">üçû</div>
                            <span class="font-semibold text-gray-900">Kebutuhan Dapur</span>
                        </div>
                    </div>
                </section>

            </section>

            <section id="page-fitur" class="page-content hidden">
                <h1 class="text-4xl font-bold text-gray-800 mb-4">Fitur Unggulan yang Spektakuler</h1>
                <p class="text-lg text-gray-600 mb-8 max-w-3xl">"SegariHari" bukan hanya e-commerce biasa. Kami merancang fitur cerdas untuk membuat hidup Anda lebih mudah, berfokus pada kebutuhan harian Anda.</p>
            
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/3">
                        <nav class="flex flex-col space-y-3">
                            <button class="tab-button text-left w-full py-3 px-5 rounded-lg font-semibold bg-white shadow active" data-tab="tab-list">
                                üí° Smart List Pribadi
                            </button>
                            <button class="tab-button text-left w-full py-3 px-5 rounded-lg font-semibold bg-white shadow" data-tab="tab-langganan">
                                üîÑ Langganan Cerdas
                            </button>
                            <button class="tab-button text-left w-full py-3 px-5 rounded-lg font-semibold bg-white shadow" data-tab="tab-resep">
                                üç≥ Resep Instan & Cerdas ‚ú®
                            </button>
                        </nav>
                    </div>
                    
                    <div class="md:w-2/3">
                        <div id="tab-list" class="tab-content bg-white p-8 rounded-2xl shadow-xl">
                            <h3 class="text-2xl font-bold text-green-700 mb-3">üí° Smart List Pribadi</h3>
                            <p class="text-gray-600 mb-4">Lupakan daftar belanja manual. Fitur Smart List kami menggunakan AI untuk mempelajari pola belanja Anda. Kami akan secara otomatis mengingatkan Anda ketika stok susu, telur, atau sabun cuci Anda kemungkinan sudah menipis.</p>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li>Prediksi kebutuhan berdasarkan riwayat pembelian.</li>
                                <li>Saran produk pelengkap secara cerdas.</li>
                                <li>Satu klik untuk menambahkan semua item yang diprediksi ke keranjang.</li>
                            </ul>
                            <img src="https://placehold.co/600x300/E0F2E9/333?text=Visualisasi+Smart+List" alt="Smart List" class="w-full h-auto rounded-lg mt-6 object-cover">
                        </div>
                        
                        <div id="tab-langganan" class="tab-content bg-white p-8 rounded-2xl shadow-xl hidden">
                            <h3 class="text-2xl font-bold text-green-700 mb-3">üîÑ Langganan Cerdas</h3>
                            <p class="text-gray-600 mb-4">Atur dan lupakan. Untuk kebutuhan pokok yang selalu Anda beli, aktifkan Langganan Cerdas. Tentukan frekuensi (mingguan, 2 mingguan, bulanan) dan kami akan mengirimkannya secara otomatis.</p>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li>Diskon spesial untuk pelanggan langganan.</li>
                                <li>Fleksibel: lewati pengiriman atau ubah item kapan saja.</li>
                                <li>Prioritas stok untuk barang langganan Anda.</li>
                            </ul>
                            <img src="https://placehold.co/600x300/E0E7FF/333?text=Visualisasi+Langganan" alt="Langganan" class="w-full h-auto rounded-lg mt-6 object-cover">
                        </div>

                        <div id="tab-resep" class="tab-content bg-white p-8 rounded-2xl shadow-xl hidden">
                            <h3 class="text-2xl font-bold text-green-700 mb-3">üç≥ Resep Instan & Cerdas ‚ú®</h3>
                            <p class="text-gray-600 mb-4">Bingung mau masak apa hari ini? Jelajahi ribuan resep dari koki lokal, atau **buat resep baru dengan bahan yang Anda miliki!** Cukup satu klik untuk menambahkan *semua* bahan yang Anda butuhkan ke keranjang belanja.</p>
                            
                            <!-- NEW: Resep Cerdas Input -->
                            <div class="mt-6 p-4 bg-amber-50 rounded-lg border border-amber-200">
                                <h4 class="font-bold text-amber-700 mb-2">Buat Resep Baru Berbasis Bahan Anda</h4>
                                <input id="resep-bahan" type="text" placeholder="Masukkan bahan yang Anda miliki (mis: ayam, bawang, kecap manis)" class="w-full py-2 px-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-1 focus:ring-amber-500 mb-3">
                                <button id="resep-button" class="w-full bg-green-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-300 flex items-center justify-center">
                                    <span id="resep-spinner" class="loading-animation mr-2 hidden"></span>
                                    Cari Resep Cerdas!
                                </button>
                            </div>
                            
                            <div id="resep-response-container" class="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg hidden">
                                <h4 class="font-bold text-green-700 mb-2">Resep Baru dari Bahan Anda:</h4>
                                <div id="resep-response-content" class="text-gray-700"></div>
                            </div>
                            <!-- END NEW: Resep Cerdas Input -->

                            <ul class="list-disc list-inside space-y-2 text-gray-700 mt-6">
                                <li>Filter resep berdasarkan bahan yang Anda miliki.</li>
                                <li>Penyesuaian porsi otomatis (misal: untuk 2 atau 4 orang).</li>
                                <li>Dari "cari resep" ke "checkout" dalam kurang dari 1 menit.</li>
                            </ul>
                            <img src="https://placehold.co/600x300/FEF3C7/333?text=Visualisasi+Resep" alt="Resep" class="w-full h-auto rounded-lg mt-6 object-cover">
                        </div>
                    </div>
                </div>
            </section>

            <section id="page-data" class="page-content hidden">
                <h1 class="text-4xl font-bold text-gray-800 mb-4">Dasbor Konsep & Data</h1>
                <p class="text-lg text-gray-600 mb-8 max-w-3xl">Platform "SegariHari" dirancang berdasarkan data untuk melayani Anda lebih baik. Berikut adalah beberapa proyeksi dan data (simulasi) yang menjadi landasan kami.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    
                    <div class="bg-white p-6 rounded-2xl shadow-xl">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">Produk Langganan Terpopuler</h3>
                        <p class="text-gray-600 text-center mb-4">Data menunjukkan fokus pelanggan pada kebutuhan pokok. Fitur langganan kami dirancang untuk melayani permintaan ini secara efisien.</p>
                        <div class="chart-container">
                            <canvas id="subscriptionsChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-2xl shadow-xl">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">Proyeksi Pertumbuhan Pengguna</h3>
                        <p class="text-gray-600 text-center mb-4">Dengan fitur yang berfokus pada kenyamanan, kami memproyeksikan adopsi pengguna yang cepat dalam 12 bulan pertama.</p>
                        <div class="chart-container">
                            <canvas id="growthChart"></canvas>
                        </div>
                    </div>

                </div>

                <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-2xl shadow-xl text-center">
                        <div class="text-5xl font-bold text-green-700">30 Menit</div>
                        <div class="text-lg font-semibold text-gray-700 mt-2">Target Pengiriman Rata-rata</div>
                        <p class="text-gray-600 mt-2 text-sm">Dengan micro-warehouse yang tersebar, kami menargetkan kecepatan pengiriman yang tak tertandingi.</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-xl text-center">
                        <div class="text-5xl font-bold text-green-700">99.8%</div>
                        <div class="text-lg font-semibold text-gray-700 mt-2">Tingkat Ketersediaan Stok</div>
                        <p class="text-gray-600 mt-2 text-sm">Manajemen inventaris berbasis AI memastikan barang yang Anda butuhkan selalu tersedia.</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-xl text-center">
                        <div class="text-5xl font-bold text-green-700">25%</div>
                        <div class="text-lg font-semibold text-gray-700 mt-2">Penghematan Waktu Belanja</div>
                        <p class="text-gray-600 mt-2 text-sm">Pengguna menghemat rata-rata 2 jam per minggu berkat fitur Smart List dan Langganan.</p>
                    </div>
                </div>

            </section>

            <section id="page-tentang" class="page-content hidden">
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                    <img src="https://placehold.co/1200x400/C8E6C9/333?text=Tim+Petani+Lokal+Kami" class="w-full h-64 object-cover" alt="Petani Lokal">
                    <div class="p-8 md:p-12">
                        <h1 class="text-4xl font-bold text-gray-800 mb-4">üë©‚Äçüåæ Misi Kami: Dari Ladang Lokal ke Meja Anda</h1>
                        <p class="text-lg text-gray-600 mb-6">"SegariHari" lebih dari sekadar aplikasi; ini adalah jembatan. Misi kami adalah memberdayakan petani dan produsen lokal Indonesia dengan memberi mereka akses langsung ke pasar yang lebih luas‚Äîyaitu Anda.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6 text-gray-700">
                            <div>
                                <h3 class="text-xl font-semibold text-green-700 mb-2">Kualitas Adalah Prioritas</h3>
                                <p>Kami bekerja sama langsung dengan puluhan petani dan peternak lokal. Ini berarti kami memotong rantai pasokan yang panjang, memastikan produk yang Anda terima adalah yang paling segar. Tidak ada penyimpanan berhari-hari di gudang besar.</p>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-green-700 mb-2">Harga yang Adil</h3>
                                <p>Dengan menghilangkan perantara yang tidak perlu, kami dapat memberikan harga yang lebih baik untuk Anda, sekaligus memastikan petani kami mendapatkan bayaran yang adil dan layak atas kerja keras mereka. Ini adalah kemenangan bersama.</p>
                            </div>
                        </div>
                        
                        <p class="mt-8 text-lg text-gray-800 bg-amber-100 p-6 rounded-lg border-l-4 border-amber-500">
                            Setiap pembelian Anda di <strong>SegariHari</strong> secara langsung mendukung ekonomi lokal dan mempromosikan praktik pertanian yang berkelanjutan. Terima kasih telah menjadi bagian dari gerakan ini.
                        </p>
                    </div>
                </div>
            </section>
        
        </main>

        <footer class="bg-gray-800 text-gray-300 mt-12">
            <div class="container mx-auto px-8 py-10">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                    <div>
                        <h4 class="font-bold text-white text-lg mb-3">SegariHari</h4>
                        <p class="text-sm">Kesegaran harian, langsung ke rumah Anda.</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-white text-lg mb-3">Jelajahi</h4>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="hover:text-white">Promo</a></li>
                            <li><a href="#" class="hover:text-white">Kategori</a></li>
                            <li><a href="#" class="hover:text-white">Resep</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-white text-lg mb-3">Dukungan</h4>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="hover:text-white">Pusat Bantuan</a></li>
                            <li><a href="#" class="hover:text-white">Hubungi Kami</a></li>
                            <li><a href="#" class="hover:text-white">Kebijakan Privasi</a></li>
                        </ul>
                    </div>
                     <div>
                        <h4 class="font-bold text-white text-lg mb-3">Ikuti Kami</h4>
                        <div class="flex space-x-4">
                            <a href="#" class="hover:text-white">FB</a>
                            <a href="#" class="hover:text-white">IG</a>
                            <a href="#" class="hover:text-white">TW</a>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm">
                    &copy; 2025 SegariHari. Dibuat sebagai konsep oleh AI.
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const GEMINI_MODEL = 'gemini-2.5-flash-preview-09-2025';
            const apiKey = ""; 

            function showPage(pageId) {
                document.querySelectorAll('.page-content').forEach(page => {
                    page.classList.add('hidden');
                });
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                }
                
                document.querySelectorAll('.nav-link').forEach(link => {
                    if (link.dataset.page === pageId) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
                
                document.getElementById('mobile-menu').classList.add('hidden');
            }

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    const pageId = this.dataset.page;
                    showPage(pageId);
                });
            });

            document.getElementById('mobile-menu-button').addEventListener('click', function() {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            });

            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.add('hidden');
                    });
                    
                    const targetContent = document.getElementById(tabId);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                    
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                });
            });

            function initCharts() {
                const subsCtx = document.getElementById('subscriptionsChart');
                if (subsCtx && !subsCtx.chart) {
                    subsCtx.chart = new Chart(subsCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Susu Segar', 'Telur Ayam', 'Roti Tawar', 'Air Mineral', 'Sayur Bayam'],
                            datasets: [{
                                label: 'Langganan Populer',
                                data: [30, 25, 20, 15, 10],
                                backgroundColor: [
                                    'rgba(5, 150, 105, 0.8)',
                                    'rgba(245, 158, 11, 0.8)',
                                    'rgba(120, 113, 108, 0.8)',
                                    'rgba(59, 130, 246, 0.8)',
                                    'rgba(22, 163, 74, 0.8)'
                                ],
                                borderColor: '#fffbeb',
                                borderWidth: 3
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return `${context.label}: ${context.raw}%`;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }
                
                const growthCtx = document.getElementById('growthChart');
                if (growthCtx && !growthCtx.chart) {
                    growthCtx.chart = new Chart(growthCtx, {
                        type: 'line',
                        data: {
                            labels: ['Bulan 1', 'Bulan 3', 'Bulan 6', 'Bulan 9', 'Bulan 12'],
                            datasets: [{
                                label: 'Proyeksi Pengguna Aktif',
                                data: [1000, 5000, 25000, 70000, 150000],
                                fill: true,
                                borderColor: 'rgba(22, 163, 74, 1)',
                                backgroundColor: 'rgba(22, 163, 74, 0.1)',
                                tension: 0.3
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            },
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                }
            }
            
            initCharts();
            
            const dataPageLink = document.querySelector('.nav-link[data-page="page-data"]');
            if(dataPageLink) {
                dataPageLink.addEventListener('click', function() {
                    setTimeout(initCharts, 50); 
                });
            }

            // --- LLM API CORE FUNCTION ---
            async function fetchGemini(url, payload, maxRetries = 3) {
                for (let attempt = 0; attempt < maxRetries; attempt++) {
                    try {
                        const response = await fetch(url, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            const errorBody = await response.text();
                            console.error(`Attempt ${attempt + 1}: API call failed with status ${response.status}`, errorBody);
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        return await response.json();

                    } catch (error) {
                        if (attempt < maxRetries - 1) {
                            const delay = Math.pow(2, attempt) * 1000;
                            console.warn(`Retrying in ${delay / 1000}s...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                        } else {
                            throw error;
                        }
                    }
                }
            }
            // --- END LLM API CORE FUNCTION ---


            // --- LLM Feature 1: Tanya Pakar (Grounding/Search) ---
            const pakarQueryInput = document.getElementById('pakar-query');
            const pakarButton = document.getElementById('pakar-button');
            const pakarSpinner = document.getElementById('pakar-spinner');
            const pakarResponseContainer = document.getElementById('pakar-response-container');
            const pakarResponseText = document.getElementById('pakar-response-text');
            const pakarSourcesDiv = document.getElementById('pakar-sources');

            pakarButton.addEventListener('click', async () => {
                const query = pakarQueryInput.value.trim();
                if (!query) {
                    alert('Masukkan pertanyaan Anda terlebih dahulu!');
                    return;
                }

                pakarButton.disabled = true;
                pakarSpinner.classList.remove('hidden');
                pakarResponseContainer.classList.add('hidden');
                pakarResponseText.innerHTML = '';
                pakarSourcesDiv.innerHTML = '';

                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${apiKey}`;
                
                // Prompt for the expert persona and grounding instruction
                const systemPrompt = `Anda adalah seorang ahli pangan dan analis pasar dari SegariHari. Jawab pertanyaan pengguna dengan ringkas, fokus, dan informatif. Gunakan informasi terkini dari Google Search. Respon harus dalam Bahasa Indonesia.`;
                
                const payload = {
                    contents: [{ parts: [{ text: query }] }],
                    tools: [{ "google_search": {} }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                try {
                    const result = await fetchGemini(apiUrl, payload);
                    
                    const candidate = result.candidates?.[0];
                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const text = candidate.content.parts[0].text;
                        let sources = [];
                        const groundingMetadata = candidate.groundingMetadata;

                        if (groundingMetadata && groundingMetadata.groundingAttributions) {
                            sources = groundingMetadata.groundingAttributions
                                .map(attribution => ({
                                    uri: attribution.web?.uri,
                                    title: attribution.web?.title,
                                }))
                                .filter(source => source.uri && source.title);
                        }

                        pakarResponseText.innerText = text;
                        
                        if (sources.length > 0) {
                            let sourcesHtml = '<p class="font-semibold mt-2">Sumber:</p><ul class="list-disc list-inside space-y-1">';
                            sources.slice(0, 3).forEach(source => { // Show up to 3 sources
                                sourcesHtml += `<li><a href="${source.uri}" target="_blank" class="text-green-600 hover:text-green-800 underline">${source.title}</a></li>`;
                            });
                            sourcesHtml += '</ul>';
                            pakarSourcesDiv.innerHTML = sourcesHtml;
                        } else {
                             pakarSourcesDiv.innerHTML = '<p class="mt-2 italic">Tidak ada sumber yang ditemukan.</p>';
                        }

                        pakarResponseContainer.classList.remove('hidden');

                    } else {
                        pakarResponseText.innerText = 'Maaf, terjadi kesalahan saat memproses permintaan Anda.';
                        pakarResponseContainer.classList.remove('hidden');
                    }

                } catch (error) {
                    console.error('Error during Pakar query:', error);
                    pakarResponseText.innerText = 'Maaf, gagal terhubung ke layanan Pakar. Coba lagi nanti.';
                    pakarResponseContainer.classList.remove('hidden');
                } finally {
                    pakarButton.disabled = false;
                    pakarSpinner.classList.add('hidden');
                }
            });
            // --- END LLM Feature 1 ---


            // --- LLM Feature 2: Resep Cerdas (Structured Output) ---
            const resepBahanInput = document.getElementById('resep-bahan');
            const resepButton = document.getElementById('resep-button');
            const resepSpinner = document.getElementById('resep-spinner');
            const resepResponseContainer = document.getElementById('resep-response-container');
            const resepResponseContent = document.getElementById('resep-response-content');
            
            resepButton.addEventListener('click', async () => {
                const bahan = resepBahanInput.value.trim();
                if (!bahan) {
                    alert('Masukkan daftar bahan yang Anda miliki!');
                    return;
                }

                resepButton.disabled = true;
                resepSpinner.classList.remove('hidden');
                resepResponseContainer.classList.add('hidden');
                resepResponseContent.innerHTML = '';
                
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${apiKey}`;
                
                const systemPrompt = `Anda adalah seorang koki ahli. Buatlah satu resep masakan dalam Bahasa Indonesia yang menggunakan bahan-bahan berikut. Pastikan resep tersebut memiliki nama, daftar bahan (termasuk jumlah yang dibutuhkan), dan langkah-langkah memasak. Output harus dalam format JSON sesuai skema yang diberikan.`;
                
                const userQuery = `Buat resep menggunakan bahan-bahan berikut: ${bahan}`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "namaResep": { "type": "STRING", "description": "Nama hidangan yang menarik." },
                                "deskripsiSingkat": { "type": "STRING", "description": "Deskripsi singkat resep." },
                                "bahanDibutuhkan": {
                                    "type": "ARRAY",
                                    "description": "Daftar lengkap bahan dan jumlah yang dibutuhkan.",
                                    "items": { "type": "STRING" }
                                },
                                "langkahMemasak": {
                                    "type": "ARRAY",
                                    "description": "Langkah-langkah memasak secara berurutan.",
                                    "items": { "type": "STRING" }
                                }
                            },
                            required: ["namaResep", "deskripsiSingkat", "bahanDibutuhkan", "langkahMemasak"]
                        }
                    }
                };

                try {
                    const result = await fetchGemini(apiUrl, payload);
                    
                    const jsonString = result.candidates?.[0]?.content?.parts?.[0]?.text;

                    if (jsonString) {
                        const parsedJson = JSON.parse(jsonString);
                        
                        let htmlOutput = `<h3 class="text-xl font-bold mb-1">${parsedJson.namaResep}</h3>`;
                        htmlOutput += `<p class="italic text-gray-600 mb-4">${parsedJson.deskripsiSingkat}</p>`;
                        
                        // Bahan
                        htmlOutput += `<h4 class="font-semibold text-lg text-green-600">Bahan-bahan:</h4>`;
                        htmlOutput += `<ul class="list-disc list-inside ml-4 mb-4 space-y-1">`;
                        parsedJson.bahanDibutuhkan.forEach(bahan => {
                            htmlOutput += `<li>${bahan}</li>`;
                        });
                        htmlOutput += `</ul>`;

                        // Langkah
                        htmlOutput += `<h4 class="font-semibold text-lg text-green-600">Langkah Memasak:</h4>`;
                        htmlOutput += `<ol class="list-decimal list-inside ml-4 space-y-1">`;
                        parsedJson.langkahMemasak.forEach(langkah => {
                            htmlOutput += `<li>${langkah}</li>`;
                        });
                        htmlOutput += `</ol>`;

                        resepResponseContent.innerHTML = htmlOutput;
                        resepResponseContainer.classList.remove('hidden');

                    } else {
                        resepResponseContent.innerText = 'Maaf, gagal menghasilkan resep yang terstruktur. Pastikan Anda memasukkan bahan yang jelas.';
                        resepResponseContainer.classList.remove('hidden');
                    }

                } catch (error) {
                    console.error('Error during Resep Cerdas query:', error);
                    resepResponseContent.innerText = 'Maaf, gagal terhubung ke layanan Resep Cerdas. Coba lagi nanti.';
                    resepResponseContainer.classList.remove('hidden');
                } finally {
                    resepButton.disabled = false;
                    resepSpinner.classList.add('hidden');
                }
            });
            // --- END LLM Feature 2 ---

        });
    </script>

</body>
</html>
